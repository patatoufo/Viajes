<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bienvenido a la Aventura</title>
  <link rel="stylesheet" href="estilos.css">

  <script src="contador.js" defer></script>
</head>
<body>
  <script src="variables.js"></script>
  <h1 id="tituloBienvenida">Bienvenido al bar de</h1>
 <h2 id="tituloMes"><span id="contador"></span></h2>
 <h3 id="tituloDinero">Tienes <span id="dinero"></span> €</h3>
 <h3 id="alertaDinero"><span id="alertaDinero"></span></h3>
  
    <section class="secImagen">
    <div id="divImagen"></div>
	<div id="Bar" class="contBar">
<div>
	<a class="textBar"> ¿Como te puedo ayudar? </a>
</div>




<div>
	<a id="TextoOculto" class="textBar" style="display: none;"> Test </a>
</div>
<div>
	<button onclick="mostrarReceta()" id="BarButton">Dar una propina (-1 €)</button>
</div>



	</div>
  </section>
  
  <section>
  	<div>
		<button onclick="VolverCiudad()">Volver a la ciudad</button>
	</div>
	<div style="margin-top: 10px;">
		<button style="background-color: #333333" id="start"  onclick="Restart()">Reiniciar Juego</button>
	</div>
  </section>

  <footer>
    <br>
    <br>
    <p>&copy; 2024 Alba Inc. Todos los derechos reservados.</p>
	<p>&copy; Todas las imagenenes generadas con IA.</p>
  </footer>

<br>
<br>
 

  <script>

	// Obtener la ciudad de la URL
	var urlParams = new URLSearchParams(window.location.search);
	var ciudad = urlParams.get('ciudad');
	var arrayRecetas = JSON.parse(localStorage.getItem('arrayRecetas'));

	// Actualizar el contenido del título con la ciudad
	var tituloBienvenida = document.getElementById('tituloBienvenida');

	tituloBienvenida.innerText += ' ' + ciudad

	var inventario = JSON.parse(localStorage.getItem('inventario'));

	// Añadir una imagen
	var imagen = AddBarman(ciudad);	

	var divImagen = document.getElementById('divImagen');
	divImagen.appendChild(imagen);


	// Actualizar el contenido del título con la ciudad
	var divImagen = document.getElementById('divImagen');
	divImagen.appendChild(imagen);


	function mostrarReceta() {
		if (dinero > 1) {
	    	restarDinero(1);
			actualizarInterfaz();
			var chat = iniciarCamarero(arrayRecetas);
 			var texto = document.getElementById("TextoOculto");
			texto.innerText = chat;
			var boton = document.getElementById("BarButton");
  			if (texto.style.display === "none") {
	    		texto.style.display = "block";
  			} 
    	} else {
    		document.getElementById('alertaDinero').textContent = 'No tienes suficiente dinero para propinas.';
    		document.getElementById('alertaDinero').style.color = 'red';
    	}
	}

  </script>
  
	

</body>
</html>
