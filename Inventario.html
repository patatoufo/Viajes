<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bienvenido a la Aventura</title>
  <link rel="stylesheet" href="estilos.css">

  <script src="contador.js" defer></script>
</head>
<body>
  <script src="variables.js"></script>
  <h1 id="tituloBienvenida">Bienvenido al Inventorio </h1>
 <h2 id="tituloMes"><span id="contador"></span></h2>
 <h3 id="tituloDinero">Tienes <span id="dinero"></span> €</h3>
 <h3 id="alertaDinero"><span id="alertaDinero"></span></h3>
  
    <section class="secImagen">
		<div id="imPetInventorio" class="OptionsInventorio">
			
		</div>	
  </section>
  
  <section>
  	<div>
		<button onclick="SeguirHome()">Salir del inventario</button>
	</div>
	<div style="margin-top: 10px;">
		<button style="background-color: #333333" id="start"  onclick="Restart()">Reiniciar Juego</button>
	</div>
  </section>

  <footer>
    <br>
    <br>
    <p>&copy; 2024 Alba Inc. Todos los derechos reservados.</p>
	<p>&copy; Todas las imagenenes generadas con IA.</p>
  </footer>

<br>
<br>
 

  <script>

	// Obtener la ciudad de la URL
		var urlParams = new URLSearchParams(window.location.search);
		var ciudad = urlParams.get('ciudad');

	var inventario = JSON.parse(localStorage.getItem('inventario'));
 for (var i = 0; i < inventario.length; i++) {
 
 	if ( inventario[i].cantidad > 0 ) {
    // Utilizar una función auxiliar para capturar el valor actual de i
    (function(index) {
	
	
          var divNuevo = document.createElement("div");
	divNuevo.classList.add("imgPetite2")

		var divNuevo2 = document.createElement("div");
			divNuevo2.id = "Inv" + index;
		var imagenObj = AddObjeto(inventario[index].nombre);
		divNuevo2.appendChild(imagenObj);

	
	divNuevo.appendChild(divNuevo2);

		var divNuevo3 = document.createElement("div");
		var tituloNuevo = document.createElement("a");			
		tituloNuevo.id = "TituloInv" + index;

		if (index !== -1) {
			//console.log("la cantidad de " + objetosTienda[index] + " es " + inventario[indexObjeto].cantidad);		
			tituloNuevo.textContent = "Tienes " + inventario[index].cantidad
			} else {
			console.log("No tienes" + inventario[index]);
			tituloNuevo.textContent = "Tienes 0"
		}

		divNuevo3.appendChild(tituloNuevo);
		divNuevo.appendChild(divNuevo3);

		var divNuevo4 = document.createElement("div");
		var botonNuevo = document.createElement("button");
		botonNuevo.id = "Tienda" + index;
		botonNuevo.textContent = inventario[index].nombre;
		divNuevo4.appendChild(botonNuevo);	
	
	divNuevo.appendChild(divNuevo4);

    // Agregar el div al contenedor
    imPetInventorio.appendChild(divNuevo);

    })(i)};
  }

  </script>
  
	

</body>
</html>
